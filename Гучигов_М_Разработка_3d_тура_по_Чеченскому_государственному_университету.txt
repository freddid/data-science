
СОДЕРЖАНИЕ
ВВЕДЕНИЕ	3
1.	ГЛАВА1. Теоретические основы разработки. Анализ технологий и средств для создания 3D- туров	7
1.1.	Понятие виртуального тура и этапы его создания	7
1.2.	Актуальность 3D- тура для ЧГУ	8
1.3.	Анализ аналогичных виртуальных туров	11
1.4.	Анализ существующих программных средств для создания виртуальных туров	14
1.5.	Выводы по главе	23
2.	ГЛАВА2. Подготовка материалов для разработки виртуального 3D- тура по университету.	25
2.1.	Съемка фотоматериала	25
2.2.	Обработка панорам	28
3.	ГЛАВА3. Реализация разработки виртуального 3D- тура по университету			32
3.1.	Техническое задание на разработку 3D- тура по ЧГУ	32
3.2.	Начало работы в Kolor Panotour Pro	35
3.3.	Добавление активных зон	38
3.4.	Настройка пользовательского интерфейса виртуальной экскурсии	41
3.5.	Тестирование и размещение на хостинге	46
ЗАКЛЮЧЕНИЕ	49
СПИСОК ИСПОЛЬЗОВАННЫХ ИСТОЧНИКОВ	51



ВВЕДЕНИЕ
     
     Для образовательных учреждений одной из основных и самых важных задач является привлечение абитуриентов и создание благоприятной учебной атмосферы для студентов. В это направление вкладывается большое количество сил и средств. Естественно, каждый, кто работает над этим, желает увидеть плоды своей работы в виде увеличения количества абитуриентов и людей, интересующихся данным учебным заведением, что в результате дает лучшую репутацию и стимул продолжать работу в данном направлении. К сожалению, не все труды человека получают достаточно широкой огласки, чтобы охватить внимание большого количества людей. 
     Над направлением привлечения абитуриентов работает агитационная компания университета и это приносит свои плоды, но даже активная работа агитационной компании не может охватить всех людей, которые выбирают, куда поступать. Чаще всего люди прислушиваются ко мнению окружающих и вслепую, доверившись людям, которые имеют авторитетное мнение в их глазах, поступают в определенный вуз.1 Большинство людей попросту даже не ознакамливаются с внешним видом, материальным обеспечением и техническим оснащением образовательных учреждений учебного заведения, в который поступают. 
     Особенно острую актуальность эта тема имеет для родителей, которые помогают своим детям с выбором. Для людей, которые и так сильно заняты рутинной каждодневной работой, не всегда удобно найти время для личного посещения одного или нескольких университетов. Как следствие они не имеют достаточного представления о вузе, чтобы сделать свой выбор.
     Часть людей, которым небезразличны такие аспекты, ищут информацию в интернете, на сайте университета, что дает им первичное представление, но никак не полную картину.
     Решением данной проблемы может стать создание виртуального 3D- тура. В наш век, когда информационные технологии входят в норму жизни и внедряются повсеместно, специалисты отмечают тенденцию повышения интереса основной массы людей к новым возможностям, предоставляемым современным миром. Благодаря новым технологиям, разных отраслях жизни происходят технический и технологический прорыв. 
     Использование таких возможностей значительно облегчает как работу, так и обычную бытовую жизнь. Безусловно, технологии виртуальной и дополненной реальности являются одними из самых востребованных в наше время и широко используются в самых различных сферах человеческой деятельности. 3D- туры, дающие зрителю впечатление реального присутствия и возможность погрузиться в 3D- мир, стали убедительным и интересным способом представления информации. 
     Основой виртуального тура являются панорамные фотографии, особенностью которых, в отличие от обычных фотографии, является интерактивный характер просмотра. Панорама – это широкоформатный снимок, захватывающий пространство вплоть до 360°2. Такие панорамы могут быть отображены по горизонтали и по вертикали. Чаще всего, панорамы состоят из нескольких фотографий, соединенных между собой. 
     Также при использовании аппаратуры с широкоугольной оптикой, не представляется возможным отобразить точную перспективу сцены: объекты, находящиеся на переднем плане, отображаются большими, а объекты с заднего плана непропорционально маленькие. Но при создании сферической панорамы и увеличении определенного участка до более меньшего угла обзора, картинка становится естественной, создавая эффект погружения.
     Для создания  3D- тура по университету необходимы программные и аппаратные средства разработки, обеспечивающие полноценную наполненность контентом, качество и удобство использования тура (точки перехода по панорамам, отображение номеров аудитории, карта проекта, звуковое сопровождение, если в этом есть необходимость, интуитивно понятный интерфейс и т.д.), а также разработка плана, подготовка необходимых материалов, проработка логики 3D- тура и прочее. 
     Виртуальный тур, имеющий понятный интерфейс и несущий реальную пользу будет формировать хороший имидж в глазах абитуриентов и способствовать общему повышению интереса к вузу, идущему в ногу со временем.
     Объектом исследования данной выпускной квалификационной работы является Чеченский государственный университет имени А.А.Кадырова
     Предмет исследования — средства и материалы для создания интерактивных виртуальных туров
     Целью выпускной квалификационной работы является разработка виртуального 3D- тура по двум корпусам (главному и третьему) Чеченского государственного университета.
     Для выполнения поставленной цели необходимо решить следующие задачи:
     * Анализ литературы и интернет- ресурсов по теме выпускной работы;
     * Анализ аналогичных виртуальных туров;
     * Анализ современных методов и платформ для создания широкоформатных панорам.;
     * Съемка панорамных фотографий внутри и снаружи корпусов;
     * Создание поэтажного плана корпусов университета для использования в качестве карты навигации;
     * Обработка и подготовка материалов;
     * Создание и настройка точек перехода, подпись названий кабинетов и других элементов 3D- тура;
     * Сборка виртуального тура;
     * Публикация проекта на хостинге для онлайн доступа с любого устройства;
     * Тестирование.
     

ГЛАВА 1. АНАЛИТИЧЕСКАЯ ЧАСТЬ. АНАЛИЗ ТЕХНОЛОГИЙ И СРЕДСТВ ДЛЯ СОЗДАНИЯ 3D- ТУРОВ

1.1. Понятие виртуального тура и этапы его создания

     Виртуальный тур представляет из себя комбинацию панорам, снятых с ультра- широким углом обзора и отрендеренных в виде сфер или цилиндров. Перемещение из одной панорамы в другую происходит через определенные зоны, настраиваемые при создании 3D- тура и называемыми точками привязки или точками перехода. В зависимости от предпочтений, активные зоны можно сделать в виде точек, занимающих небольшую площадь или полигонов, размер и форма которых регулируется при создании. 
     Активные зоны размещаются непосредственно на панорамах, учитывая план тура. Все вышеперечисленное может быть дополнено озвучкой переднего плана и фоновой музыкой, а также имеется возможность добавлять разного рода материалы в виде фотографий, видеороликов, flash- роликов, плана тура и прочего.[1]
     Самостоятельно путешествуя в 3D- туре, пользователь может сам выбирать подходящий ему маршрут. Поскольку панорамы, используемые для реализации виртуальных туров, охватывают все вокруг, пользователь может смотреть по сторонам, увеличивать или уменьшать интересующую его область панорамы. Двигая камеру по сторонам, пользователь будет видеть также и точки перехода, которые связаны с другими панорамами. Нажатие на эти точки производит переход в панораму, указанную в ссылке этой активной зоны. 
     Помимо этого, в виртуальном туре есть возможность добавления карты с точками перехода, при нажатии на которые также осуществляется переход по ссылке к другой панораме. В этом заключается преимущество интерактивности виртуальных туров, ведь, разглядывая обычную фотографию, человек видит только определенный ракурс и фокус на одном объекте. Интерактивность и возможность непосредственно воздействовать на процесс дает зрителю ощущение реального присутствия и сильнее затягивает в процесс прогулки.
     Главным преимуществом виртуального метода прогулки является непривязанность к месту и времени. Пользователь может в любое удобное ему время, в удобном месте, взять телефон или сесть за компьютер и прогуливаться по виртуальному пространству. Причем это актуально также и для организации, предоставляющей возможность осмотра. К тому же, не все люди считают комфортным личное посещение, кому- то удобнее смотреть без отвлекающих факторов и без взаимодействия с другими людьми. Виртуальный тур как неназойливый гид, но которым можно управлять, не испытывая неудобства. [3]
     Виртуальная экскурсия таже представляет из себя некий инструмент привлечения клиентов, который благоприятно действует на авторитет организации и формирует хороший имидж. О данном факте свидетельствует многие источники и реальные отзывы как пользователей, так и лиц, предоставляющих возможность виртуальной прогулки.[2]
     
1.2. Актуальность 3D- тура для ЧГУ

     ФГБОУ ВО3 Чеченский государственный университет им. А.А.Кадырова4 начал свое существование как федеральное государственное бюджетное образовательное учреждение высшего образования с 7 февраля 1938 года  параллельно с открытием Грозненского учительского института. И первый поток обучающихся составлял всего 120 человек.
     В наши дни Чеченский государственный университет является одним из современных и стремительно развивающихся образовательных учреждений на Северном Кавказе. Образование является наиболее важной частью любого общества. Без должного внимания образованию любое общество обречено на погибель. 
     Чеченский государственный университет ставит перед собой цель не допустить стагнацию общества в плане науки и образования и прилагает все усилия для подготовки высокоинтеллектуального и способного решить любые профессиональные задачи слоя общества. В данном университете получают     подготовку и переподготовку образованного, специалисты высокого класса, которые востребованы по всей России и за ее пределами. 
     На данный момент студентам ЧГУ доступно обучение в 10 факультетах и в 4 институтах. Университет предоставляет возможность прожить яркую студенческую жизнь, насыщенную мероприятиями по разным направлениям.  
     На сегодняшний день доступно обучение по 31 направлению подготовки бакалавриата, 23 направлениям подготовки магистратуры, 5 специальностям, 12 программам ординатуры, 31 направленности программ подготовки кадров высшей квалификации в аспирантуре.
     В Чеченском государственном университете созданы все условия для комфортного обучения и реализовано множество программ для студентов, которые хотят больше участвовать в жизни университета, или вовсе стать его частью. Университет пользуется хорошим авторитетом среди жителей не только Чеченской республики, но и всего Северного Кавказа.
     Материальному состоянию университета могут позавидовать многие университеты. В Чеченской республике науке и образованию выделяется особое внимание. В техническом плане ЧГУ оборудован абсолютно всем необходимым и готов обучать и выпускать специалистов, лучших в своем деле.
     Все удобства, которые создаются, создаются для студентов. Естественно, самым главным ресурсом университета являются студенты. Без студентов университет существовать не может. Поэтому каждый год идет работа над их привлечением. Для агитации с целью увеличения потока абитуриентов тратится очень много сил и ресурсов. 
     Внедрение виртуальной экскурсии позволит ознакомить абитуриентов с материальным и техническим оснащением и поспособствует увеличению интереса к учебному заведению. Виртуальный тур позволит реализовать новую ступень развития агитационной компании университета. Наличие качественно сделанного виртуального тура позволит выделиться среди конкурентов и показать свои преимущества даже тем, кто не может найти время для личного посещения.[1]
     В целях анализа актуальности также был проведен опрос среди трех групп людей: родителей, преподавателей и студентов. В ходе опроса было опрошено более 70 человек, среди которых количественное предпочтение было отдано родителям, поскольку чаще всего в выборе вуза родители помогают своим детям. Абсолютное большинство отметили значимость и пользу виртуального тура. Результаты опроса приведены ниже (Диаграмма 1.).

Диаграмма 1. Результаты опроса об актуальности 3D- тура.
     Из всех вышеперечисленных факторов можно сделать вывод об актуальности виртуального тура для Чеченского государственного университета. 

1.3. Анализ аналогичных виртуальных туров

     Опыт создания виртуальных туров в разных направлениях все сильнее насыщается различными экскурсиями, где каждый по- своему представляет объект. По России уже есть университеты, у которых реализован виртуальный тур. Многие университеты понимают важность виртуализации данных процессов, и поэтому стремятся предоставить удобства для пользователей.  
     В ходе анализа были рассмотрены некоторые аналогичные реально существующие виртуальные туры. У разных решений существуют свои сильные и слабые места, рассмотрев которые можно сделать выводы и внедрить в разрабатываемый тур понравившиеся решения, возможные к реализации в рамках данной работы. Туры, которые были проанализированы:
* Российский университет дружбы народов — многопрофильный университет в Москве. На их сайте представлена карта, где расположены точки перехода к сферическим панорамам (Рис. 1.):

Рис. 1. Виртуальный тур РУДН
     Преимущества тура: Тур реализован хорошо и видно, что к его созданию прилагалось много сил. Качество панорам и подход к визуализации точек на карте хорошее.
     Недостатки тура на мой взгляд: Долгая прогрузка панорам при переходе, не соблюден баланс между качеством и размером панорамы, что плохо влияет на трафик. Есть лишь один блок, где реализованы точки перехода. Остальные панорамы расположены в галерее, где пользователь выбирает одну из панорам, но не видит связи между панорамами.
* Уральский федеральный университет имени первого Президента России Б.Н. Ельцина – один из крупнейших вузов страны (Рис. 2.):

Рис. 2. Виртуальный тур Уральского федерального университета
     Преимущества тура: Хорошая количественная наполненность проекта. В туре собрано много институтов и корпусов, освещено много участков университета. Добавлены информационные картинки в некоторых местах. Качество панорам хорошее.[5]
     Недостатки тура на мой взгляд: очень долгая прогрузка панорам при переходе. Некоторые панорамы не прогружаются вовсе. Не соблюден баланс между качеством и размером панорамы, что плохо влияет на трафик. Есть точки перехода в некоторых сценах, но связь между панорамами уловить сложно. 
* Московский государственный лингвистический университет- ведущий лингвистический вуз в России (Рис. 3.)

Рис. 3. Виртуальный тур МГЛУ

     Преимущества тура: Работа над деталями, хорошее качество изображений, звуковое сопровождение, активные зоны в виде полигонов вместо точек, что является и преимуществом, и недостатком, поскольку они более удобны на мой взгляд, но криво расположены в некоторых панорамах. Быстрая прогрузка панорам.
     Недостатки тура на мой взгляд: отсутствует навигационная панель. В некоторых панорамах не предусмотрены или забыты при создании точки обратного перехода, то есть остается только перезапускать тур. Отсутствуют названия при наведении на активные зоны.
     При подробном рассмотрении и анализе аналогичных 3D- туров, было выявлено ряд преимуществ и недостатков, в результате чего было принято решение создать виртуальный тур наибольшим возможным количеством преимуществ и наименьшим количеством недостатков.
     
1.4. Анализ существующих программных средств для создания виртуальных туров

     Обзор ПО для обработки и склейки панорам
     Для работы с панорамами на рынке существует внушительное количество. Разное программное обеспечение для данных целей предоставляет различный интерфейс и возможности. Некоторые являются простыми и интуитивно понятными, а другие, чтобы начать работу, требуют изучения.
     Некоторые из таких программ даже предоставляют возможность автоматической генерации и встройки HTML5- кодов в виртуальные панорамы, позволяющих расположить их на веб- страницах. Как потенциально возможные к использованию в целях реализации проекта были рассмотрены такие программные средства для работы с панорамами, как The Panorama Factory, Autopano Giga 4, PTGui, GoPro Fusion Studio. 
        * PTGui — Программное обеспечение, которое по праву считают одним из лучших для работы с панорамами. Данное ПО6 поддерживает аппаратное ускорение обработки с использованием видеоядра для выполнения алгоритмов обработки. Программа предоставляет приятный пользовательский интерфейс и поддерживает предварительный просмотр в режиме реального времени. С помощью данной программы возможно создать панорамы из любого достаточного числа входных фотографий. Также программа имеет ряд других преимуществ для более тонкой настройки. (Рис. 4.)

Рис. 4. Интерфейс программы PTGui

        * Autopano Giga 4 — это один из флагманов в мире обработки панорам, созданный компанией Kolor. Kolor — настоящий гигант в данной сфере в плане опыта и реализованных решений. Компания была одной из ведущих разработчиков профессионального программного обеспечения для работы с панорамными и не только изображениями. Спустя 14 лет успешной и плодотворной работы, компания Kolor прекратила свое существование. К сожалению, основные причины такого решения не были разглашены и нет информации о том, почему данная компания закрылась. 
        Несмотря на то, что Kolor перестала поддерживать свои продукты, они все еще очень актуальны и пользуются авторитетом даже сейчас, спустя 4 года. Autopano Giga 4 позволяет сшивать панорамы из множества фотографий, работать с перспективами, редактировать панорамы и прочее. Алгоритмы программы позволяют сделать быструю обработку даже для сложных сцен. Программа имеет интуитивно понятный интерфейс и достаточно прост в использовании. (Рис. 5.)

Рис. 5. Интерфейс программы Autopano Giga 4

        * The Panorama Factory — программное обеспечение, разработанное компанией Smoky City Design, LLC. Данная программа позволяет создавать панорамные изображения из фотографий с возможностью встраивания в них связанного с виртуальной панорамой HTML– файла. Интерфейс простой и в то же время многофункциональный. (Рис. 6.)

Рис. 6. Интерфейс программы The Panorama Factory

        * GoPro Fusion Studio — программное обеспечение, предназначенное для обработки видео 360 и панорам, созданное как дополнение к камере GoPro Fusion 360. Интерфейс программы минималистичен и прост в понимании. В данной программе есть возможность автоматической бесшовной склейки панорамы из двух панорам, снятых на широкоугольные объективы камеры GoPro Fusion 360. Также имеется функция цветокоррекции, предварительного просмотра и прочие преимущества для более точной настройки (Рис. 7.)

Рис. 7. Интерфейс программы GoPro Fusion Studio

	После анализа доступных ПО для работы с панорамами, было принято решение остановиться на GoPro Fusion Studio, поскольку оно предоставляет все функции, требующиеся в рамках данной работы, и имеет самый простой и понятный интерфейс среди конкурентов. А его недостатки конкретно в целях текущей работы не являются значимыми и критичными.

     Обзор ПО для составления виртуальных туров
     Программных решений для настройки и сборки готового тура предоставляется немалое количество, но стоит отметить, что дела с лицензией в этом сегменте обстоят куда хуже, чем с программами просто для работы с панорамами. На рынке представлены множество решений, из которых рассмотрены и проанализированы следующие:
         * SP VTB 7.0x — Программное средство для составления 3D- туров, который имеет неплохой функционал. Программа предоставляет возможность создать виртуальный тур, связывая между собой панорамы, добавлять аудио, фото и видеоматериалы на панорамах. Форматы изображений для дополнительных элементов поддерживается довольно много, однако панорамы в данной программе возможно использовать только созданные в платном приложении от того же разработчика. Если не считать это найти способ использовать панорамы извне, то данный продукт является довольно мощным средством для создания 3D- туров. (Рис. 8.)

Рис. 8. Интерфейс программы SP VTB 7.0x

        * EasypanoStudio 2005 — Программное обеспечение для быстрого и качественного создания виртуальных туров. Пакет приложения включает в себя два модуля: Panoweaver и Tourweaver. Panoweaver представляет из себя инструмент для работы с панорамами, как и программы, которые были описаны выше в работе. Данный модуль нас не интересует, поскольку Tourweaver может поддерживать панорамы, созданные не только с помощью этого модуля, но и импортированные извне. Но стоит отметить, что лицензия на данное ПО очень дорогое. Вплоть до 990 долларов. (Рис. 9.)

Рис. 9. Интерфейс модуля Tourweaver

        * Kolor Panotour Pro — программное обеспечение, в котором очень хорошо соблюден баланс между простотой работы и предоставляемыми возможностями. Данное ПО предоставляет все необходимые инструменты для создания качественного виртуального тура. Есть возможность добавления фото, аудио и видеоматериалов в панорамы. Работа над оптимизацией потребляемых ресурсов хорошо сказывается на времени сборки тура. Также программа поддерживает импорт панорам извне, что позволяет использовать ее в паре с необходимым нам ПО для работы с панорамами. [13]
        Большим преимуществом является то, что тур, создаваемый в данной программе с исходным кодом, сохраняется в репозитории сохранения. При необходимости, есть возможность внести корректировки в тур, которые в самой программе не предусмотрены. Kolor Panotour Pro также является одним из самых удобных в плане интерфейса.[6] (Рис. 10.)

Рис. 10. Интерфейс программы Kolor Panotour Pro

     ПО для создания 2D- плана здания университета
     Для реализации мини карты, необходимо нарисовать план каждого этажа здания, для которого создается виртуальный тур. Мини карта должна помогать пользователю правильно ориентироваться по 3D- туру, а также перемещаться по нему через активные точки перехода, расположенные на ней. Также мини- карта призвана помочь пользователю оценить масштаб учебного корпуса. Помимо этого, на мини- карте будет располагаться радар, показывающий направление просмотра.
     К созданию плана университета было решено подойти максимально грамотно, реализовав его не просто как картинку с рисунком, который нельзя изменять, а как реальный чертежный проект. Такой подход позволяет использовать как всю карту, так и часть нее. Это необходимо для внедрения отдельного плана для каждого этажа каждого крыла.
     Реализация данного чертежа было решено сделать в Autodesk AutoCAD 2021.
     AutoCAD – это программа для создания двухмерных и трехмерных чертежей и макетов. Оно разработано для проектирования изделий, зданий, планирования производства, гражданской инфраструктуры и строительства.
     Все необходимое для моделирования и создания чертежей собрано данном программном обеспечении. AutoCAD дает пробный период в 14 дней, которого в рамках данной работы вполне достаточно. При помощи данного ПО можно создать высококачественный набросок или полностью готовый план проекта за пару часов без особых навыков. 
     На сегодняшний день, нет аналогов данному программному обеспечению, которые могут составить конкуренцию по удобству создания чертежей и предоставляемому функционалу. 
     Функции AutoCAD для 2D-рисования, черчения и аннотаций включают возможность управления внешним видом текстов, автоматическое создание стилей и размеров, связывание и обновление данных между электронными таблицами и таблицами Microsoft Excel в чертежах и работу с динамическими блоками.
     В данной программе есть поддержка большого количества форматов на вывод, в том числе и PNG. Данный формат нам интересен, поскольку, добавив план такого формата в наш проект, мы можем регулировать задний фон мини- карты по нашему усмотрению. 
     Интерфейс AutoCAD хоть и выглядит на первый взгляд очень сложным и непонятным, является вполне удобным и интуитивно понятным даже новичку в плане реализации простого чертежа. (Рис. 11.)

Рис. 11. Интерфейс программы AutoCAD
     
     По такому принципу были созданы чертежи всех этажей объектов. Далее был произведен экспорт данных файлов в формате PNG для добавления в проект в качестве навигационной мини- карты здания.
     
1.5. Выводы по главе

     После анализа множества ПО для полной реализации виртуального тура, было принято решение отдать предпочтение наиболее доступным, но не сильно уступающим по функционалу, а где- то даже имеющим свои преимущества программным продуктам. Выбранное ПО обладает простым, понятным интерфейсом и не требует долгого изучения для выполнения базовых операций. 
     Помимо вышеперечисленного ПО, был использован еще один дополнительный инструмент для обработки изображений. Adobe Photoshop CC 2022 по праву считается одним из лучших инструментов для обработки фотографий. Панорамы – это те же фотографии, представленные в другом формате, поэтому обработка и ретуширование панорам легче всего делается в Adobe Photoshop. Таким образом, рамках текущей ВКР были использованы следующие программы: (Табл. 1.)
Таблица 1. Использованные в ВКР программные продукты
Предназначение программыНазвание программыОбработка и ретушь изображенийAdobe Photoshop CC 2022Работа с панорамамиGoPro Fusion StudioСоздание чертежа объектаAutodesk AutoCAD 2021Составление виртуального тураKolor Panotour Pro     
     
     
     







     


2. ГЛАВА 2. ПОДГОТОВКА МАТЕРИАЛОВ ДЛЯ РАЗРАБОТКИ ВИРТУАЛЬНОГО 3D- ТУРА ПО УНИВЕРСИТЕТУ.

2.1. Съемка фотоматериала

     Самым главным элементом виртуального тура являются панорамы, из которых он, собственно, и состоит. Чтобы создать качественные панорамы, необходимо снять широкоугольные фотографии, которые впоследствии нужно склеить между собой с сохранением необходимых условий. Для съемки в данном проекте была использована камера GoPro Fusion 360. 
     Это чудо инженерной мысли значительно упрощает процесс съемки, поскольку объективы данной камеры имеют ультра- широкий угол съемки — 180 градусов. На фронтальной и тыльной частях GoPro Fusion 360 расположено по одному объективу, что суммарно дает съемку в 360 градусов. (Рис. 12). 

Рис. 12. GoPro Fusion 360
     Без наличия такой камеры, съемка такого объема панорам в ограниченные сроки было бы крайне тяжелой задачей. Для съемки фотографий, камера ставится на тонкий штатив, который не будет занимать лишнее место в кадре. Управление осуществляется через удаленный доступ.
     Поскольку объективов два и снимаемых фотографий соответственно тоже два, важно учитывать, что расположение камеры может сильно влиять на качество фотографий. К примеру, один объектив направлен на сильно освещенный участок, а другой в более темный, что является частым сценарием при съемке во дворе при солнечной погоде. В таком случае, хоть алгоритмы камеры и подгоняют уровень экспозиции7, фотографии все равно различаются по уровню освещенности. [12]
     Немаловажным фактором является и положение мест стыков фотографий. Если с обычной камерой снимки для панорам делаются с перекрытием в 30- 40 градусов, то GoPro делает лишь две фотки с углом в 180 градусов каждая. Исходя из этого фактора, мы можем понять, что в местах стыка нет перекрытия и процесс бесшовной склейки панорам становится более сложной задачей. Для более лучшего качества склейки фотографий в единую панораму, необходимо выбирать положение камеры таким образом, чтобы место стыка было более однородным и содержало как можно меньше деталей.[11]
     С соблюдением основных правил съемки было отснято материала главного и третьего корпусов ЧГУ на огромное колиество фотографий. При съемке соблюдена связь между изображениями и произведена текстовая запись порядка изображений, дабы избежать путаницы во время сборки виртуального тура. 
     Процесс съемки здания третьего корпуса ЧГУ был начат с фотографии лицевой части, после чего были сняты панорамы вокруг объекта, чтобы в проекте в конечном итоге хорошо проглядывалась связь между панорамами и в одну и ту же точку виртуального тура можно было попасть несколькими путями. Такой подход, на мой взгляд, дает более яркие ощущения и вызывает эффект реального присутствия. (Рис. 13.)

Рис. 13. План съемки объекта снаружи
     
     После съемки наружной части, были сделаны фотографии внутри корпуса. Внутри аудиторий было сделано по одной панораме, а в коридоре, являющемся связующим звеном, панорамы были сделаны с небольшим шагом для удобного перемещения по аудиториям и большей реалистичности виртуальной прогулки.
     Для проекта выбран сферический тип панорам. Данный тип панорам захватывает максимально возможный угол пространства — 360?180 градусов. На плоскости данная панорама выглядит искаженно, но в самом проекте, в правильной проекции будет давать больше реализма и ощущения присутствия.[4]


2.2. Обработка панорам
      
     Склейка панорам
     После процесса съемки, необходимо обработать получившийся материал. Для начала необходимо произвести создание одной панорамы из двух изображений, снятых на фронтальную и тыльную объективы камеры. Для сохранения фотографий в камере GoPro установлено два носителя данных, по одной для каждой из объективов. 
     Фотографии с носителей необходимо перенести в отдельную папку для каждой из сторон.  Для корректной работы программы GoPro Fusion Studio, необходимо, чтобы эти две папки были расположены по одному адресу. После загрузки файлов, в Fusion Studio производится корректировка смещений, поворот панорамы, первичная цветокоррекция и наконец рендеринг. Стоит отметить, что цветокоррекция в данном ПО не является основной функцией и имеет мало параметров, поэтому при работе в Fusion Studio в рамках данного проекта, цветокоррекция произведена не была. 
     Работа в Fusion Studio в паре с фотографиями с камеры GoPro Fusion оказалась очень приятной и не сложной. В программе присутствует только нужный функционал. Интерфейс без лишних элементов дает хороший результат в скорости работы. Данное программное обеспечение имеет лишь 2 основных меню:
* “Редактировать”, где проводится основная часть операций над панорамами.
* “Рендеринг”, где находятся изображения на склейку после настройки в предыдущем окне, которые можно отправить на обработку.
     Пример работы: (Рис. 14.)

Рис. 14. Обработка панорам в Fusion Studio

     При обработке панорам в программе Fusion Studio необходимо также изменить названия панорам. В противном случае, при сборке тура в Kolor Panotour Pro крайне сложно будет понять по названию панорамы, куда именно ее стоит расположить. 
     
     Обработка цвета в Adobe Photoshop 2022
     Во время съемки, при всем желании, не всегда возможно учесть все и сделать идеальные панорамы. Проблема чаще всего заключается в лишних объектах в кадре или неравномерном освещении разных участков изображения. Количество панорам в данном проекте очень большое, поскольку было необходимо сделать тур детальным и связным. 
     Исходя из вышеперечисленного, тонкая, долгая обработка каждой панорамы не представляется возможным в рамках данной ВКР, дабы не выйти за временные рамки. Цветокоррекция была и выравнивание областей освещения была произведена на панорамах, где я этом была видна необходимость. Работа была проделана в Adobe Photoshop (Рис. 15.)

Рис. 15: Цветокоррекция в Adobe Photoshop
     
     Удаление лишних объектов было произведено на тех панорамах, где они попали в область видимости и мешали обзору на панораме. Удаление лишних элементов проводился с помощью инструмента “Точечная восстанавливающая кисть”. Данный инструмент Adobe Photoshop при должном усилии справляется даже со сложными сценами с недостаточной освещенностью. Таким образом были просмотрены все панорамы, после чего были выделены и обработаны те из них, которые подлежат обработке с удалением лишних элементов. Далее все панорамы были сохранены в исходном формате для использования в туре.[2]
     Пример удаления лишнего элемента с панорамы, где сверху – необработанная панорама, а панорама снизу обработана с удалением лишних элементов. В основном, при создании панорам было предусмотрено отсутствие в кадре лишних элементов, но при объемной работе такие мелочи неизбежны. Обработка одной панорамы таким образом в Adobe Photoshop занимает не более 10 минут. (Рис. 16.)

Рис. 16. Удаление лишних элементов в Adobe Photoshop


ГЛАВА 3. РЕАЛИЗАЦИЯ РАЗРАБОТКИ ВИРТУАЛЬНОГО 3D- ТУРА ПО УНИВЕРСИТЕТУ

2.3. Техническое задание на разработку 3D- тура по ЧГУ

     Требования к продукту разработки:
     Для качественной разработки виртуального тура было определено техническое задание, следуя которому была проведена дальнейшая работа над проектом. Основные пункты, касающиеся реализации и наполненности проекта, следующие:
* 3D- тур должен быть разработан с поддержкой технологии HTML5;
* Должна быть реализована кроссплатформенность виртуального тура;
* В виртуальном туре должно быть отражено не менее 80 процентов учебных и компьютерных классов;
* Прогулка должна быть возможна не только внутри объекта, но и снаружи;
* Должна прослеживаться связь между панорамами для более реалистичного восприятия;
* Каждая точка должна быть снята в режиме 360 градусов;
* Должна быть реализована мини- карта для удобства ориентирования по туру;
* При наведении на точку должно высвечиваться название панорамы, к которому эта точка ведет;
* Для удобства перемещений должен быть создан выпадающий список панорам;
* Должен быть создан радар, указывающий направление просмотра панорам;
* Помещения во время съемки должны быть свободны
* Не допускается создание панорамы (участка тура), из которого нет точки перехода;
* Не допускается присутствие на панорамах лишних объектов, мешающих обзору;
* 3D- тур должен быть размещен на хостинге8 для онлайн доступа с любого устройства по URL- адресу;

     Пользовательский интерфейс продукта разработки:
     Для пользователя просмотр виртуального тура осуществляется через браузер, как с персонального компьютера, так и с мобильных устройств. Для управления виртуальным туром требуются лишь базовые знания по типу открытия ссылки в браузере и кликов по интуитивно понятному интерфейсу.
     Пользовательский интерфейс проекта реализован максимально сдержанно и без лишних элементов в целях упрощения использования. Виртуальный тур направлен на широкую массу, и исходя из этого непонятный или сложный интерфейс негативно отразится на практической пользе проекта.
     Начальный экран после запуска тура для пользователя содержит в себе:
* Панель управления в нижней части экрана;
* Мини- карта в правом верхнем углу;
* Один выпадающий список с группами панорам в левом верхнем углу;
* Второй выпадающий список – список панорам группы;
* Точки перехода, если находятся в области видимости;
Демонстрация (Рис. 17).

Рис. 17: Интерфейс пользователя в 3D- туре

     Каждый из элементов интерфейса прост в использовании и не требуют особенных навыков для использования. Выпадающие списки раскрываются вниз, и открывают список групп или панорам соответственно. 
     Мини- карта двигается курсором мышки и при нажатии на любую из точек, находящейся на карте, открывает соответствующую нажатой точке панораму. Радар на мини карте показывает направление просмотра и двигается в режиме реального времени в соответствии с движениями угла просмотра панорамы.
     Элементы панели навигации интуитивно понятны и имеют соответствующую своему действии иконку. Более того, при наведении курсором на панель навигации, высвечивается текст, обозначающий действие кнопки.
     Панель навигации содержит следующие элементы:
* предыдущая панорама;
* следующая панорама;
* увеличить панораму;
* уменьшить панораму;
* посмотреть вверх;
* посмотреть вниз;
* посмотреть влево;
* посмотреть вправо;
* во весь экран;
* скрыть навигационные элементы;
     
     Требования к документированию в рамках данного проекта не предъявляются.[10]
      
     2.4. Начало работы в Kolor Panotour Pro

     Основной и самый главный инструмент при создании виртуального тура является программное обеспечение Kolor Panotour Pro. Практически вся дальнейшая работа над связкой панорам в единый тур, вплоть до полной готовности, будет проведена именно в нем. 
     При начале работы нас встречает домашний экран, на котором мы начинаем создание нашего тура выбрав либо один из пресетов как шаблон, либо создав пустой проект настройкой и наполнением функционала которого придется заниматься с нуля. (Рис. 18).
     

Рис. 18: Начало работы в Panotour Pro

     Для проекта виртуального тура по Чеченскому государственному университету был выбран метод создания пустого проекта и настройки его от начала до конца самостоятельно, не прибегая к шаблонным заполнениям. Такой подход даст возможность настройки тура под себя и создать отличным от аналогичных виртуальных туров.
     При создании пустого проекта, происходит перемещение во вкладку “Tour”, где изначально нет ничего, кроме пары кнопок и окон. Следующим шагом необходимо добавить панорамные изображения с углом обзора в 360 на 180 градусов. Добавляемые панорамы должны быть уже полностью подготовлены и не должны далее подвергаться изменениям во избежание проблем со связками между панорамами.
     После добавления панорамных изображений в основном окне для управления панорамами появляются иконки панорам в ряд. Масштаб окна можно увеличивать или уменьшать для просмотра давленных панорам. Также в данном окне можно перемещаться, используя ползунки, расположенные на правой и нижней частях окна. (Рис. 19).

Рис. 19. Добавление материала в Panotour Pro
      
     Текущая выпускная работа предполагает большое количественное наполнение проекта, включая практически все учебные помещения, возможность передвижения по коридору и общую связанность проекта. Такое требование в техническом плане выливается в более чем 400 панорамных изображений, ориентироваться по которым становится крайне сложно. Для избегания этой проблемы было решено разбить панорамы по группам.
     Для разделения по группам были взяты такие критерии, как расположение крыла, этаж, лестницы и так далее. Каждой группе было дано свое название, которое в последующем будет отображаться в списке выбора группы. Такое расположение удобно для навигации по виртуальному туру. На связь между группами разбивка никак влиять не будет. (Рис. 20).

Рис. 20. Разбивка панорам на группы

2.5. Добавление активных зон
     
     Добавление активных зон и связей между панорамами – одна из самых долгих и требующих внимательности частей данного проекта. Каждая панорама имеет как минимум одну активную зону, а некоторые могут иметь большое количество, в зависимости от того, сколько переходов с картинки предусмотрено. Активные зоны могут задаваться в виде точек перехода или полигонов9 перехода. В чем разница между ними?
     Полигоны имеют регулируемые размер и форму и могут применяться везде, но не всегда этот метод легок. Поскольку выделять сложные объекты, к примеру, перекрытую стулом дверь, не всегда легко и на сотнях панорам это становится значимым замедлением реализации разработки. Точки перехода выполняют ту де функцию, но более легки и универсальны. Поскольку не было выявлено значимых преимуществ полигонов перед точками, было решено использовать точки в качестве активных зон переходов. (Рис. 21.)

Рис. 21. Точки перехода

     Дизайн иконок можно менять на те, которые предоставлены как базовые в Panotour Pro, также можно добавлять и свои во вкладке “Style”.
     Связи между панорамами занимают особое место в создании данного тура, поскольку в них можно очень легко запутаться. Каждая точка имеет привязанную к ней панораму. Создание точки перехода без указания панорамы направления не допускается. Каждая сцена может иметь как одну, так и несколько привязанных к ней панорам. В программе Kolor Panotour Pro связи выражены стрелками.  Начало стрелки отмечено точкой на панораме, причем местоположение точки даже в свернутом виде отображается на реальном месте своего нахождения на панораме. Конец стрелки указывает на целевую панораму, переход к которому будет осуществлен при нажатии на эту точку в виртуальном туре. (Рис. 22).

Рис. 22. Связи между панорамами

     Если говорить про сложность построения связей, то для маленького проекта построение данных связей не является проблематичным, однако, чем больше проект, тем больше они внимания и концентрации требуют. В конечном проекте, ожидается количество связей более 1000. На следующем рисунке отражены связи между панорамами всего трех этажей данного проекта (Рис. 23.)

Рис. 23. Связи между панорамами в масштабе проекта
2.6. Настройка пользовательского интерфейса виртуальной экскурсии

     Все что связано с настройкой пользовательского интерфейса и его настройки находится во вкладке “Style”. В этой вкладке мы можем настраивать, добавлять, удалять и изменять элементы интерфейса.
     В окне “Style” мы можем добавлять различные плагины, предусмотренные в программе Panotour Pro. С помощью плагинов мы настраиваем поведение, внешний вид и стиль элементов управления. Также поведение самого виртуального тура тоже настраивается плагинами.
     В библиотеке плагинов, которая находится в правой части вкладки “Style”, содержатся следующие группы плагинов, которые в свою очередь включают в себя по несколько плагинов:
* Control bar;
* Controls;
* Effects;
* Gallery;
* Image zone;
* Loaders;
* Maps;
* Menu;
* Text zone;
* Thumbnails;
* User input;
* Video;
* Viewers.
     Проект не утяжеляется добавлением всех плагинов подряд. Плагины подключаются выборочно под конкретную задачу. Добавление плагина в проект виртуального тура происходи двойным кликом по необходимому плагину. После добавления в проект, название плагина отображается уже в левой части экрана в окне “Workspace”. (Рис. 24).

Рис. 24. Добавление плагинов в проект

     Помимо плагинов, в этой вкладке редактируются вид и параметры таких элементов, как точки перехода, активные зоны для аудио, видео материалов и прочее. Есть возможность сделать отображение точек переходов анимированными для более приятного восприятия. 
     Для редактирования параметров плагина необходимо кликнуть по плагину, уже добавленному в проект. Настройки открываются в центральном окне. Каждый плагин имеет свойственные для него настройки. К примеру, на рисунке 24 отображена часть настроек плагина “Floor plan”, отвечающего за мини- карту в проекте.
     Список добавленных плагинов в текущий проект:
* Classic Control Bar – отвечает за расположение и настройки панели инструментов в туре. 
* Panorama Combobox – отвечает за выпадающий списки. В текущем проекте данных плагинов 2, предназначенные для групп и для панорам внутри группы.
* Loading transition – отвечает за анимацию при переходе на другую панораму по активной зоне
* Floor plan – отвечает за расположение и настройки навигационной мини- карты в туре
* Gyroscope – отвечает за управление просмотром по сторонам с помощью гироскопа на устройствах, поддерживающих данную функцию, например, телефонах.
* Context menu – отвечает за меню, выходящее при нажатии на правую кнопку мыши.
* Double Click – отвечает за поведение при двойном клике.
     
     Добавление навигационного плана здания в проект
     Для добавления плана здания или, другими словами, мини- карту, необходимо для каждого крыла каждого этажа добавить соответствующую чертежную карту. Карты могут быть загружены в разных форматах, но в текущем проекте будет использован формат PNG, поскольку он не содержит заднего фона и будет иметься возможность в проекте изменять его через плагин “Floor plan”. 
     Помимо того, что для каждой группы загружается своя карта, имеется возможность загрузить карту и на весь проект, которая будет отображаться, если его не перекрывает карта группы. Добавление карты и точек перехода на карту происходит через вкладку “Tour”, а его настройка происходит во вкладке “Style” при нажатии на название плагина. (Рис. 25).

Рис. 25. Добавление мини- карты

     Связка двух корпусов
     Не для кого не секрет, что с ростом объема материала в подобных проектах влечет за собой увеличение сложности проекта не пропорционально росту объема, а намного больше. Проект виртуального тура содержит огромное количество материала и информации в виде панорам, ссылок, связей, настроек и прочего. Данный фактор сильно сказывается на скорости разработки и требует решения. 
     Исходя из вышеперечисленного, было принято решение создать виртуальные туры двух корпусов как отдельные проекты, изначально не связанные друг с другом и каждый из которых имеет свои файлы. Тогда встает вопрос о цельности виртуального тура. Данная проблема была решения связкой проектов двух корпусов через ссылки, расположенные в каждом корпусе в местах выхода из корпуса (Рис. 26).

Рис. 26. Точка перехода в другой корпус
     
     На этом, по большему счету, создание виртуального тура подходит к логическому завершению. Работа над интерфейсом, мелкими деталями отнимают огромное количество времени. После того, как все связи построены, добавлены и настроены все необходимые плагины, остается указать место для сохранения файлов виртуального тура, название тура и нажать на кнопу “Build” (Рис. 27.)

Рис. 27. Завершающий этап разработки. Сборка тура
2.7. Тестирование и размещение на хостинге
     
     Тестирование
     После сборки виртуального тура, он готов к публикации на сервере. Но чтобы точно убедиться в готовности и работоспособности виртуального тура, необходимо провести тестирование. При тестировании проводится прогулка по всему виртуальному туру, выявляются ошибки и недочеты. После выявления ошибок, необходимо вернуться в программу Panotour Pro и внести корректировки. Когда необходимые изменения сделаны, нужно снова нажать на кнопку “Build”. На этом работа над самим туром завершена. [14]
     
Размещение на хостинге
     Когда 3D- тур готов, остается разместить его на хостинге для онлайн доступа с любого устройства, на котором есть интернет. В конечном итоге, проект должен быть размещен на сайте Чеченского государственного университета имени, но для тестирования и демонстрации было решено разместить виртуальный тур на временном хостинге, предоставляемом сервисом Sprinthost. На данном хостинге все необходимые функции для размещения проекта предоставляются в пробном периоде. По истечении времени бесплатного пользования, есть возможность арендовать хостинг с минимальной оплатой от 65 рублей в месяц, что является довольно хорошим показателем. (Рис. 28.)

Рис. 28. Сервис Sprinthost
     
     Данный сервис предоставляет возможность размещения сайтов, создания баз данных, привязки почты к домену и другое. На хостинге можно разместить свой проект без особых навыков. Добавление данных проекта происходит через файловый менеджер. (Рис. 29).

Рис. 29. Файловый менеджер Sprinthost

     После правильного размещения всех необходимых файлов, проект становится доступен по определенному домену. Домен по умолчанию генерируется самим сервисом и предоставляется также бесплатно. При необходимости, есть возможность привязать собственный домен.[7] (Рис. 30.)

Рис. 30. Регистрация собственного домена
     
     Но данная операция не несет значимости в рамках текущей работы и поэтому домен решено оставить бесплатный. Доступ к виртуальному туру будет предоставляться через домен – http://a0667186.xsph.ru/


ЗАКЛЮЧЕНИЕ
     
     Подытоживая, можно сказать, что конечным результатом данной выпускной квалификационной работы является законченный виртуальный тур, готовый к внедрению на сайт Чеченского государственного университета и использованию в целях рекламы или привлечения абитуриентов. Также стоит отметить, что расположение таких проектов на сайте, увеличивает активность сайта, сто дает результат в виде улучшения SEO10, из- за чего сайт показывается выше в поисковом запросе.
     Во время разработки мы убедились, что создать виртуальный тур возможно без использования платного программного обеспечения. Рынок предоставляет большое количество решений для реализации разработки 3D- туров. Также можно воспользоваться пробным периодом, который предоставляют разработчики большинства программ. За период в один месяц или две недели возможно закончить работу, связанную с платными программами при должном упорстве[8]. Впрочем, разработчик имеет возможность купить лицензию и значительно облегчить себе работу. Также платные продукты дают больше разнообразия и свободы действий.
     Рассматривая возможности камер и особенности съемки панорамных изображений в закрытых помещениях и в местах, где требуется внимание к деталям, считаю оптимальным использование профессиональной камеры, предназначенной для панорамной съемки. Такой подход значительно облегчает работу со съемкой.
     Качество выполненной работы считаю соответствующей поставленной цели. Все поставленные задачи в рамках текущей ВКР были успешно выполнены. Разработанный тур имеет понятный для пользователя интерфейс и может быть открыт с любого устройства, на котором есть доступ к глобальной сети интернет.  
     В рамках текущей работы охвачено два корпуса Чеченского государственного университета, в виртуальный тур включены как большинство учебных посещений, так и пространство вокруг объектов, что дает лучшее представление об объекте. Конечный продукт размещен на хостинге и доступен к эксплуатации.


СПИСОК ИСПОЛЬЗОВАННЫХ ИСТОЧНИКОВ

1. Бабаринов, С. Л.  Современные направления в области панорамной съемки / С. Л. Бабаринов, Д. В. Щепилова. —: 2016. —  136c. — Текст: непосредственный
2. Обработка фотографий. — Текст: электронный // Adobe: [сайт]. — URL: https://www.adobe.com/ru/products/photoshop.html (дата обращения: 01.06.2022)
3. Cambridge in Colour - Photography Tutorials & Learning: [сайт]. 2022. URL: https://www.cambridgeincolour.com (Дата обращения: 21.05.2022). 
4. Виртуальный тур по университету: [сайт]. 2022. URL: https://urfu.ru/ru/about/today/3d/ (Дата обращения: 23.02.2022). – Текст.  Изображение: электронные
5. Panotour Pro [141255-B-41]: [сайт]. 2022. URL: https://besthard.ru/panotour-pro/ (Дата обращения: 28.05.2022). – Текст. Изображение: электронные
6. Общий обзор доменов верхнего уровня (gTLDs) [Электронный 
ресурс]. — Режим доступа: http://info.nic.ru/st/9/out_1840.shtml (дата 
обращения: 22.05.2022)
7. Бесплатные программы для компьютера: [сайт]. 2018. URL: http://softcatalog.info/ru (Дата обращения: 12.05.2022). – Текст. Изображение: электронные
8. Бурлаков М.В. Эффекты в программах растровой графики. Справочное пособие. - М.: Изд-во ТРИУМФ, 2010. - 70 с.
9. ГОСТ 34.602-89 «Техническое задание на создание автоматизированной системы»
10. Панорамная съёмка: [сайт]. 2022. URL: https://mycanon.canon.ru/artworkshop/learning/details/2 (Дата обращения: 02.06.2022). – Текст. Изображение: электронные
11. Панорамная фотография: [сайт]. 2022. URL: https://www.takefoto.ru/articles/raznoe/1097_panoramnaya_fotografiya (Дата обращения: 29.05.2022). – Текст. Изображение: электронные
12. Разработчик KRPano и PanotourPro: [сайт]. 2022. URL: https://rec360.ru/news/kompanija-kolor-razrabotchik-krpano-i-panotour-pro-prekratila-svoju-dejatelnost.html (Дата обращения: 14.04.2022). – Текст: электронные
13. Федотова И.В., Смагулов Б.К. Использование сервиса интернет при самостоятельном планировании тура // Региональное развитие. 2016. №6
1 Вуз- Высшее учебное заведение (сокращённо — вуз; пишется строчными буквами) — образовательное учреждение, осуществляющее подготовку специалистов с высшим профессиональным образованием.
2 360° (360 градусов) – определение угла обзора в сферических панорамах 
3 ФГБОУ ВО — федеральное государственное бюджетное образовательное учреждение высшего образования
4 Чеченский государственный университет им.А.А.Кадырова (чечен. Ахьмад-Хьаьжин ц1арах йолу Нохчийн пачхьалкхан университет) 
5 HTML (от английского HyperText Markup Language) — это язык гипертекстовой разметки страницы
6 ПО – программное обеспечение
7 Экспозиция — это количество света, которое попадает на датчик камеры, генерируя визуальные данные за определенный период времени.
8 Хостинг — это услуга по размещению и хранению информации на серверах, которые имеют постоянный доступ к сети Интернет.
9 Полигон — плоскость, состоящая из нескольких точек в пространстве, соединённых рёбрами.
10 SEO — Search Engine Optimization. То есть оптимизация под поисковые движки. Адаптация и изменение веб-сайта таким образом, чтобы бы он был более привлекательным как для пользователей, так и для поисковых роботов.
---------------

------------------------------------------------------------

---------------

------------------------------------------------------------

50



